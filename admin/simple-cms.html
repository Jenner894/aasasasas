<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur de Contenu - Shift Agency</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #5b5bd6 0%, #8b7cdf 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            background: #fafafa;
        }

        .section h2 {
            color: #5b5bd6;
            margin-bottom: 20px;
            font-size: 1.5rem;
            border-bottom: 2px solid #5b5bd6;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #5b5bd6;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #5b5bd6 0%, #8b7cdf 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            margin-right: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .status {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #5b5bd6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .help-text {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéõÔ∏è √âditeur de Contenu</h1>
            <p>Modifiez le contenu de votre site en toute s√©curit√©</p>
        </div>

        <div class="content">
            <div id="status"></div>
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Sauvegarde en cours...</p>
            </div>

            <!-- Configuration G√©n√©rale -->
            <div class="section">
                <h2>üè† Configuration G√©n√©rale</h2>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="site_name">Nom du Site</label>
                        <input type="text" id="site_name" placeholder="Shift Agency">
                        <div class="help-text">Nom affich√© dans l'onglet du navigateur</div>
                    </div>
                    <div class="form-group">
                        <label for="theme_color">Couleur du Th√®me</label>
                        <input type="color" id="theme_color" value="#5b5bd6">
                        <div class="help-text">Couleur principale du site</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Description SEO</label>
                    <textarea id="description" placeholder="Description pour les moteurs de recherche"></textarea>
                </div>
                <div class="form-group">
                    <label for="keywords">Mots-cl√©s SEO</label>
                    <input type="text" id="keywords" placeholder="landing page, cr√©ation site web, agence digitale">
                </div>
            </div>

            <!-- Section Hero -->
            <div class="section">
                <h2>üöÄ Section Hero (Page d'Accueil)</h2>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="hero_title">Titre Principal</label>
                        <input type="text" id="hero_title" placeholder="Transform Your Business With">
                    </div>
                    <div class="form-group">
                        <label for="hero_highlight">Texte en Surbrillance</label>
                        <input type="text" id="hero_highlight" placeholder="Shift Agency">
                    </div>
                </div>
                <div class="form-group">
                    <label for="hero_subtitle">Sous-titre</label>
                    <textarea id="hero_subtitle" placeholder="We shift visitors into customers..."></textarea>
                </div>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="cta_text">Texte du Bouton</label>
                        <input type="text" id="cta_text" placeholder="R√©server un Appel">
                    </div>
                    <div class="form-group">
                        <label for="cta_link">Lien du Bouton</label>
                        <input type="text" id="cta_link" placeholder="#booking">
                    </div>
                </div>
            </div>

            <!-- Statistiques -->
            <div class="section">
                <h2>üìä Statistiques</h2>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="stat1_value">Pages Cr√©√©es</label>
                        <input type="number" id="stat1_value" placeholder="390">
                    </div>
                    <div class="form-group">
                        <label for="stat2_value">Satisfaction Client (%)</label>
                        <input type="number" id="stat2_value" placeholder="97">
                    </div>
                    <div class="form-group">
                        <label for="stat3_value">Livraison Moyenne (h)</label>
                        <input type="number" id="stat3_value" placeholder="48">
                    </div>
                </div>
            </div>

            <!-- Section Performance -->
            <div class="section">
                <h2>‚ö° Section Performance</h2>
                <div class="form-group">
                    <label for="perf_title">Titre de Section</label>
                    <input type="text" id="perf_title" placeholder="Performance & satisfaction client : notre moteur.">
                </div>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="chart_title">Titre du Graphique</label>
                        <input type="text" id="chart_title" placeholder="Augmente ton trafic sans limite">
                    </div>
                    <div class="form-group">
                        <label for="increase_percentage">Pourcentage d'Augmentation</label>
                        <input type="text" id="increase_percentage" placeholder="+74%">
                    </div>
                </div>
                <div class="form-group">
                    <label for="chart_description">Description du Graphique</label>
                    <textarea id="chart_description" placeholder="Une collaboration sur mesure..."></textarea>
                </div>
            </div>

            <!-- Portfolio -->
            <div class="section">
                <h2>üíº Portfolio</h2>
                <div class="form-group">
                    <label for="portfolio_title">Titre de Section</label>
                    <input type="text" id="portfolio_title" placeholder="Ils Nous Ont Fait Confiance">
                </div>
                <div class="form-group">
                    <label for="portfolio_subtitle">Sous-titre</label>
                    <textarea id="portfolio_subtitle" placeholder="D√©couvrez les landing pages professionnelles..."></textarea>
                </div>
                <div class="section-grid">
                    <div class="form-group">
                        <label for="project_title">Titre du Projet</label>
                        <input type="text" id="project_title" placeholder="Box Club">
                    </div>
                    <div class="form-group">
                        <label for="project_image">Image du Projet</label>
                        <input type="url" id="project_image" placeholder="https://images.unsplash.com/...">
                    </div>
                </div>
                <div class="form-group">
                    <label for="project_description">Description du Projet</label>
                    <textarea id="project_description" placeholder="Landing page premium pour lancement..."></textarea>
                </div>
            </div>

            <!-- Section R√©servation -->
            <div class="section">
                <h2>üìÖ Section R√©servation</h2>
                <div class="form-group">
                    <label for="booking_title">Titre de Section</label>
                    <input type="text" id="booking_title" placeholder="R√©servez Votre Consultation Gratuite">
                </div>
                <div class="form-group">
                    <label for="booking_subtitle">Sous-titre</label>
                    <textarea id="booking_subtitle" placeholder="Discutons de votre projet pendant 30 minutes..."></textarea>
                </div>
            </div>

            <!-- Footer -->
            <div class="section">
                <h2>ü¶∂ Footer</h2>
                <div class="form-group">
                    <label for="copyright">Copyright</label>
                    <input type="text" id="copyright" placeholder="¬© 2025 Shift Agency. Data-driven digital transformation.">
                </div>
            </div>

            <!-- Boutons d'Action -->
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn" onclick="loadContent()">üì• Charger le Contenu</button>
                <button class="btn" onclick="saveContent()">üíæ Sauvegarder</button>
                <button class="btn btn-secondary" onclick="previewSite()">üëÅÔ∏è Pr√©visualiser</button>
            </div>
        </div>
    </div>

    <script>
        // Charger le contenu existant
        async function loadContent() {
            showStatus('Chargement du contenu...', 'info');
            
            try {
                // Charger la configuration g√©n√©rale
                const siteConfig = await fetch('/content/site-config.json').then(r => r.json());
                document.getElementById('site_name').value = siteConfig.site_name || '';
                document.getElementById('description').value = siteConfig.description || '';
                document.getElementById('keywords').value = siteConfig.keywords || '';
                document.getElementById('theme_color').value = siteConfig.theme_color || '#5b5bd6';

                // Charger le contenu hero
                const hero = await fetch('/content/hero.json').then(r => r.json());
                document.getElementById('hero_title').value = hero.main_title || '';
                document.getElementById('hero_highlight').value = hero.highlight_text || '';
                document.getElementById('hero_subtitle').value = hero.subtitle || '';
                document.getElementById('cta_text').value = hero.cta_text || '';
                document.getElementById('cta_link').value = hero.cta_link || '';

                // Charger les statistiques
                if (hero.stats && hero.stats.length >= 3) {
                    document.getElementById('stat1_value').value = hero.stats[0].value || '';
                    document.getElementById('stat2_value').value = hero.stats[1].value || '';
                    document.getElementById('stat3_value').value = hero.stats[2].value || '';
                }

                // Charger la section performance
                const performance = await fetch('/content/performance.json').then(r => r.json());
                document.getElementById('perf_title').value = performance.section_title || '';
                document.getElementById('chart_title').value = performance.chart_title || '';
                document.getElementById('chart_description').value = performance.chart_description || '';
                document.getElementById('increase_percentage').value = performance.increase_percentage || '';

                // Charger le portfolio
                const portfolio = await fetch('/content/portfolio.json').then(r => r.json());
                document.getElementById('portfolio_title').value = portfolio.section_title || '';
                document.getElementById('portfolio_subtitle').value = portfolio.section_subtitle || '';
                
                if (portfolio.projects && portfolio.projects.length > 0) {
                    const project = portfolio.projects[0];
                    document.getElementById('project_title').value = project.title || '';
                    document.getElementById('project_description').value = project.description || '';
                    document.getElementById('project_image').value = project.image || '';
                }

                // Charger la section booking
                const booking = await fetch('/content/booking.json').then(r => r.json());
                document.getElementById('booking_title').value = booking.section_title || '';
                document.getElementById('booking_subtitle').value = booking.section_subtitle || '';

                // Charger le footer
                const footer = await fetch('/content/footer.json').then(r => r.json());
                document.getElementById('copyright').value = footer.copyright || '';

                showStatus('Contenu charg√© avec succ√®s !', 'success');
            } catch (error) {
                console.error('Erreur lors du chargement:', error);
                showStatus('Erreur lors du chargement du contenu', 'error');
            }
        }

        // Sauvegarder le contenu
        async function saveContent() {
            showLoading(true);
            
            try {
                // Pr√©parer les donn√©es
                const siteConfig = {
                    site_name: document.getElementById('site_name').value,
                    description: document.getElementById('description').value,
                    keywords: document.getElementById('keywords').value,
                    canonical_url: "https://landingia.com",
                    theme_color: document.getElementById('theme_color').value
                };

                const hero = {
                    main_title: document.getElementById('hero_title').value,
                    highlight_text: document.getElementById('hero_highlight').value,
                    subtitle: document.getElementById('hero_subtitle').value,
                    cta_text: document.getElementById('cta_text').value,
                    cta_link: document.getElementById('cta_link').value,
                    stats: [
                        { value: parseInt(document.getElementById('stat1_value').value) || 0, label: "Pages Cr√©√©es" },
                        { value: parseInt(document.getElementById('stat2_value').value) || 0, label: "Satisfaction Client" },
                        { value: parseInt(document.getElementById('stat3_value').value) || 0, label: "Livraison Moyenne" }
                    ],
                    trust_badges: [
                        { icon: "üõ°Ô∏è", text: "Paiement S√©curis√©" },
                        { icon: "‚≠ê", text: "4.9/5 sur Sortlist" },
                        { icon: "‚ö°", text: "Livraison sous 48h" }
                    ],
                    testimonials: [
                        { stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ", text: "Le rendu est exactement comme attendu, voir meilleur. Ils sont tr√®s r√©actifs" },
                        { stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ", text: "Une √©quipe professionnelle qui comprend rapidement nos besoins" },
                        { stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ", text: "R√©sultat au-del√† de mes attentes. Design moderne et fonctionnel" },
                        { stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ", text: "Service impeccable, je recommande sans h√©sitation" }
                    ]
                };

                const performance = {
                    section_title: document.getElementById('perf_title').value,
                    chart_title: document.getElementById('chart_title').value,
                    chart_description: document.getElementById('chart_description').value,
                    increase_percentage: document.getElementById('increase_percentage').value,
                    performance_cards: [
                        { icon: "üëÅÔ∏è", title: "B√©n√©ficie de notre expertise", description: "Nous connaissons les meilleures pratiques actuelles. Avec nous, tu en profites pour ton business digital." },
                        { icon: "‚ö°", title: "Performance garantie", description: "Pages optimis√©es pour un temps de chargement ultra-rapide. Am√©liore ton SEO et l'exp√©rience utilisateur." },
                        { icon: "‚≠ê", title: "R√©sultats mesurables", description: "Suivi analytics int√©gr√© et tableaux de bord pour mesurer pr√©cis√©ment l'impact de ta landing page." }
                    ],
                    performance_stats: [
                        { label: "Pages cr√©√©es", value: "+390" },
                        { label: "Augmentation conversion moyenne", value: "‚âà +25%" },
                        { label: "CA total g√©n√©r√© pour nos clients", value: "+25,000,000‚Ç¨" }
                    ]
                };

                const portfolio = {
                    section_title: document.getElementById('portfolio_title').value,
                    section_subtitle: document.getElementById('portfolio_subtitle').value,
                    projects: [{
                        title: document.getElementById('project_title').value,
                        description: document.getElementById('project_description').value,
                        image: document.getElementById('project_image').value,
                        link: "#",
                        tags: ["E-commerce", "Box par abonnement", "Animations", "Copywriting"],
                        testimonial: {
                            stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                            text: "Shift Agency created a page that transformed our business. Conversions exploded from day one.",
                            author: "Marie Dubois - Fondatrice, Box Club"
                        }
                    }],
                    cta_text: "Pr√™t √† rejoindre nos clients satisfaits ?",
                    cta_link: "#booking"
                };

                const booking = {
                    section_title: document.getElementById('booking_title').value,
                    section_subtitle: document.getElementById('booking_subtitle').value,
                    benefits: [
                        { icon: "‚úÖ", title: "Analyse Gratuite de Vos Besoins", description: "Nous √©tudions votre projet et vous proposons la meilleure strat√©gie" },
                        { icon: "‚è∞", title: "30 Minutes de Conseil Expert", description: "Profitez de l'expertise de nos d√©veloppeurs seniors" },
                        { icon: "üìã", title: "Devis Personnalis√© Imm√©diat", description: "Recevez une proposition tarifaire adapt√©e √† votre budget" },
                        { icon: "üõ°Ô∏è", title: "Sans Engagement", description: "Aucune obligation d'achat, juste un √©change constructif" }
                    ],
                    calendar_url: "https://cal.com/landingai/15min?embed=true&theme=dark"
                };

                const footer = {
                    copyright: document.getElementById('copyright').value,
                    charts: [
                        {
                            title: "Parcours de Conversion",
                            type: "funnel",
                            data: [
                                { label: "Visiteurs", value: "10K" },
                                { label: "Engag√©s", value: "8.5K" },
                                { label: "Qualifi√©s", value: "6.5K" },
                                { label: "Convertis", value: "4.2K" }
                            ]
                        },
                        {
                            title: "Performance Globale",
                            type: "radar",
                            data: [
                                { label: "Design", value: "95%" },
                                { label: "UX", value: "92%" },
                                { label: "Speed", value: "98%" },
                                { label: "SEO", value: "88%" },
                                { label: "Convert", value: "94%" },
                                { label: "Support", value: "96%" }
                            ]
                        }
                    ]
                };

                // Sauvegarder chaque fichier
                const files = [
                    { name: 'site-config', data: siteConfig },
                    { name: 'hero', data: hero },
                    { name: 'performance', data: performance },
                    { name: 'portfolio', data: portfolio },
                    { name: 'booking', data: booking },
                    { name: 'footer', data: footer }
                ];

                for (const file of files) {
                    await fetch('/api/save-content', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(file)
                    });
                }

                showLoading(false);
                showStatus('Contenu sauvegard√© avec succ√®s !', 'success');
                
                // Recharger le contenu sur le site
                setTimeout(() => {
                    window.open('/', '_blank');
                }, 1000);

            } catch (error) {
                console.error('Erreur lors de la sauvegarde:', error);
                showLoading(false);
                showStatus('Erreur lors de la sauvegarde', 'error');
            }
        }

        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.innerHTML = `<div class="status ${type}">${message}</div>`;
            setTimeout(() => {
                status.innerHTML = '';
            }, 3000);
        }

        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }

        function previewSite() {
            window.open('/', '_blank');
        }

        // Charger le contenu au chargement de la page
        document.addEventListener('DOMContentLoaded', loadContent);
    </script>
</body>
</html>
